from extensions import db
from models.table_events import Events_stats
from datetime import datetime

def parse_date(value):
    if value in (None, '', '-'):
        return None
    return datetime.strptime(value, "%d.%m.%Y").date()

def seed_events():
    events = [
        (1, 'V1.0', '04.07.2024', '13.08.2024', 'Паспорт туриста', '1.0.1.png', 'Не пройден'),
        (2, 'V1.0', '04.07.2024', '13.08.2024', 'Щедрые зайцы', '1.0.2.png', 'Не пройден'),
        (3, 'V1.0', '11.07.2024', '13.08.2024', 'Подарки на шестой улице', '1.0.3.png', 'Не пройден'),
        (4, 'V1.0', '15.07.2024', '05.08.2024', 'Присмотр за друзьями', '1.0.4.png', 'Не пройден'),
        (5, 'V1.0', '19.07.2024', '26.07.2024', 'Не надо жадничать', '1.0.5.png', 'Не пройден'),
        (6, 'V1.0', '29.07.2024', '05.08.2024', 'Осторожно, злая собака', '1.0.6.png', 'Не пройден'),
        (7, 'V1.0', '07.08.2024', '12.08.2024', 'Кофейная магия: интонировка', '1.0.7.png', 'Не пройден'),
        (8, 'V1.0', '24.07.2024', '31.07.2024', 'Дело мастера', '1.0.8.png', 'Не пройден'),
        (9, 'V1.0', '02.08.2024', '12.08.2024', 'Эсклюзивная ярмарка минимаркета "141"', '1.0.9.png', 'Не пройден'),
        (10, 'V1.0', '24.07.2024', '05.08.2024', 'Смотри под ноги', '1.0.10.png', 'Не пройден'),
        (11, 'V1.0', '24.07.2024', '13.08.2024', 'Эн-ноты прямо в руки', '1.0.11.png', 'Не пройден'),
        (12, 'V1.0', '04.07.2024', '24.07.2024', 'На волне спокойствия', '1.0.12.png', 'Не пройден'),
        (13, 'V1.0', '24.07.2024', '13.08.2024', 'Пробивная пуля', '1.0.13.png', 'Не пройден'),
        (14, 'V1.0', '04.07.2024', '24.07.2024', 'Соната диссонанса', '1.0.14.png', 'Не пройден'),
        (15, 'V1.0', '24.07.2024', '13.08.2024', 'Соната диссонанса', '1.0.15.png', 'Не пройден'),
        (16, 'V1.0', '04.07.2024', '12.08.2024', 'Фонд Риду', '0.0.0.png', 'Не пройден'),
        (17, 'V1.1', '14.08.2024', '24.09.2024', 'Новая поставка', '1.1.1.png', 'Не пройден'),
        (18, 'V1.1', '16.08.2024', '26.08.2024', 'Лучший клиентский сервис', '1.1.2.png', 'Не пройден'),
        (19, 'V1.1', '30.08.2024', '09.09.2024', 'Один день из жизни Собеза', '1.1.3.png', 'Не пройден'),
        (20, 'V1.1', '13.09.2024', '23.09.2024', 'Кадр один, дубль один!', '1.1.4.png', 'Не пройден'),
        (21, 'V1.1', '21.08.2024', '23.09.2024', 'Золотая неделя камелий', '1.1.5.png', 'Не пройден'),
        (22, 'V1.1', '04.09.2024', '09.09.2024', 'Кофейная магия: зал боевой симуляции', '1.1.6.png', 'Не пройден'),
        (23, 'V1.1', '18.09.2024', '23.09.2024', 'Кофейная магия: интонировка', '1.0.7.png', 'Не пройден'),
        (24, 'V1.1', '04.09.2024', '24.09.2024', 'Эн-ноты прямо в руки', '1.1.8.png', 'Не пройден'),
        (25, 'V1.1', '06.09.2024', '16.09.2024', 'Тактические учения', '1.1.9.png', 'Не пройден'),
        (26, 'V1.1', '14.08.2024', '04.09.2024', 'Чиста, как нефрит и лёд', '1.1.10.png', 'Не пройден'),
        (27, 'V1.1', '04.09.2024', '24.09.2024', 'По запросу никого не найдено', '1.1.11.png', 'Не пройден'),
        (28, 'V1.1', '14.08.2024', '04.09.2024', 'Соната диссонанса', '1.1.12.png', 'Не пройден'),
        (29, 'V1.1', '04.09.2024', '24.09.2024', 'Соната диссонанса', '1.1.13.png', 'Не пройден'),
        (30, 'V1.1', '14.08.2024', '23.09.2024', 'Фонд Риду', '0.0.0.png', 'Не пройден'),
        (31, 'V1.2', '25.09.2024', '05.11.2024', 'Новая поставка', '1.2.1.png', 'Не пройден'),
        (32, 'V1.2', '26.09.2024', '04.11.2024', 'Пир Вожака', '1.2.2.png', 'Не пройден'),
        (33, 'V1.2', '30.09.2024', '05.10.2024', 'Зал боевой симуляции: данные в награду', '1.2.3.png', 'Не пройден'),
        (34, 'V1.2', '07.10.2024', '21.10.2024', 'Это твой Риду', '1.2.4.png', 'Не пройден'),
        (35, 'V1.2', '21.10.2024', '26.10.2024', 'Регулярная зачистка: продвинутые награды', '1.2.5.png', 'Не пройден'),
        (36, 'V1.2', '27.10.2024', '04.11.2024', '"141" собирает друзей', '1.2.6.png', 'Не пройден'),
        (37, 'V1.2', '30.09.2024', '14.10.2024', 'Командная работа', '1.2.7.png', 'Не пройден'),
        (38, 'V1.2', '16.10.2024', '28.10.2024', 'Рассекая по эфиру', '1.2.8.png', 'Не пройден'),
        (39, 'V1.2', '16.10.2024', '05.11.2024', 'Эн-ноты прямо в руки', '1.2.9.png', 'Не пройден'),
        (40, 'V1.2', '25.10.2024', '01.11.2024', 'Осторожно, злая собака', '1.2.10.png', 'Не пройден'),
        (41, 'V1.2', '25.09.2024', '16.10.2024', 'Лавовый венок', '1.2.11.png', 'Не пройден'),
        (42, 'V1.2', '16.10.2024', '05.11.2024', 'Дай газу, дай жару', '1.2.12.png', 'Не пройден'),
        (43, 'V1.2', '25.09.2024', '16.10.2024', 'Соната диссонанса', '1.2.13.png', 'Не пройден'),
        (44, 'V1.2', '16.10.2024', '05.11.2024', 'Соната диссонанса', '1.2.14.png', 'Не пройден'),
        (45, 'V1.2', '25.09.2024', '04.11.2024', 'Фонд Риду', '0.0.0.png', 'Не пройден'),
        (46, 'V1.3', '06.11.2024', '17.12.2024', 'Новая поставка', '1.3.1.png', 'Не пройден'),
        (47, 'V1.3', '06.11.2024', '17.12.2024', 'Тайна Арпеджио', '1.3.2.png', 'Не пройден'),
        (48, 'V1.3', '06.11.2024', '16.12.2024', 'Лунные блики', '1.3.3.png', 'Не пройден'),
        (49, 'V1.3', '11.11.2024', '25.11.2024', 'Виртуальная арена', '1.3.4.png', 'Не пройден'),
        (50, 'V1.3', '27.11.2024', '16.12.2024', 'Непобедимый чемпион', '1.3.5.png', 'Не пройден'),
        (51, 'V1.3', '16.11.2024', '02.12.2024', 'Курсы для эн-некающих', '1.3.6.png', 'Не пройден'),
        (52, 'V1.3', '02.12.2024', '16.12.2024', 'Помощь Каю', '1.3.7.png', 'Не пройден'),
        (53, 'V1.3', '22.11.2024', '27.11.2024', 'Зал боевой симуляции: данные в награду', '1.2.3.png', 'Не пройден'),
        (54, 'V1.3', '27.11.2024', '17.12.2024', 'Эн-ноты прямо в руки', '1.3.9.png', 'Не пройден'),
        (55, 'V1.3', '04.12.2024', '16.12.2024', 'Сэндвичи на дом', '1.3.10.png', 'Не пройден'),
        (56, 'V1.3', '11.12.2024', '16.12.2024', 'Регулярная зачистка: продвинутые награды', '1.2.5.png', 'Не пройден'),
        (57, 'V1.3', '06.11.2024', '27.11.2024', 'Покой под луной', '1.3.12.png', 'Не пройден'),
        (58, 'V1.3', '27.11.2024', '17.12.2024', 'Пламенный чемпион', '1.3.13.png', 'Не пройден'),
        (59, 'V1.3', '06.11.2024', '27.11.2024', 'Соната диссонанса', '1.3.14.png', 'Не пройден'),
        (60, 'V1.3', '27.11.2024', '17.12.2024', 'Соната диссонанса', '1.3.15.png', 'Не пройден'),
        (61, 'V1.3', '06.11.2024', '16.12.2024', 'Фонд Риду', '0.0.0.png', 'Не пройден'),
        (62, 'V1.4', '18.12.2024', '12.03.2025', 'Особый посетитель', '1.4.1.png', 'Не пройден'),
        (63, 'V1.4', '18.12.2024', '21.01.2025', 'Новая поставка', '1.4.2.png', 'Не пройден'),
        (64, 'V1.4', '20.12.2024', '20.01.2025', 'Банбу против эфириалов', '1.4.3.png', 'Не пройден'),
        (65, 'V1.4', '23.12.2024', '06.01.2025', 'Там, где сияют звёзды', '1.4.4.png', 'Не пройден'),
        (66, 'V1.4', '09.01.2025', '20.01.2025', 'Помощь разработчикам', '1.4.5.png', 'Не пройден'),
        (67, 'V1.4', '25.12.2024', '30.12.2024', 'Зал боевой симуляции: данные в награду', '1.2.3.png', 'Не пройден'),
        (68, 'V1.4', '30.12.2024', '20.01.2025', 'В погоне за ветром', '1.4.7.png', 'Не пройден'),
        (69, 'V1.4', '27.12.2024', '20.01.2024', 'Дорога в пустоту', '1.4.8.png', 'Не пройден'),
        (70, 'V1.4', '01.01.2025', '21.01.2025', 'Эн-ноты прямо в руки', '1.4.9.png', 'Не пройден'),
        (71, 'V1.4', '03.01.2025', '13.01.2025', 'Вспоминая боевые подвиги', '1.4.10.png', 'Не пройден'),
        (72, 'V1.4', '13.01.2025', '29.01.2025', 'Да начнётся выступление', '1.4.11.png', 'Не пройден'),
        (73, 'V1.4', '15.01.2025', '20.01.2025', 'Регулярная зачистка: продвинутые награды', '1.2.5.png', 'Не пройден'),
        (74, 'V1.4', '18.12.2024', '21.01.2025', 'Блеск клинка во мгле', '1.4.13.png', 'Не пройден'),
        (75, 'V1.4', '18.12.2024', '21.01.2025', 'Горькая чаша', '1.4.14.png', 'Не пройден'),
        (76, 'V1.4', '18.12.2024', '21.01.2025', 'Соната диссонанса', '1.4.15.png', 'Не пройден'),
        (77, 'V1.4', '18.12.2024', '21.01.2025', 'Гимн гармонии', '1.4.16.png', 'Не пройден'),
        (78, 'V1.4', '18.12.2024', '20.01.2025', 'Фонд Риду', '0.0.0.png', 'Не пройден'),
        (79, 'V1.5', '22.01.2025', '11.03.2025', 'Блистательная увертюра', '1.5.1.png', 'Не пройден'),
        (80, 'V1.5', '22.01.2025', '10.03.2025', 'О гармониях и соглашениях', '1.5.2.png', 'Не пройден'),
        (81, 'V1.5', '22.01.2025', '10.03.2025', 'Страдания юной Эллен', '1.5.3.png', 'Не пройден'),
        (82, 'V1.5', '23.01.2025', '10.03.2025', 'Звёздный час', '1.5.4.png', 'Не пройден'),
        (83, 'V1.5', '24.01.2025', '05.02.2025', 'Сон станет явью', '1.5.5.png', 'Не пройден'),
        (84, 'V1.5', '07.02.2025', '12.02.2025', 'Регулярная зачистка: продвинутые награды', '1.2.5.png', 'Не пройден'),
        (85, 'V1.5', '12.02.2025', '11.03.2025', 'Эн-ноты прямо в руки', '1.4.9.png', 'Не пройден'),
        (86, 'V1.5', '28.01.2025', '10.02.2025', 'Заруба в "Годфингере"', '1.5.8.png', 'Не пройден'),
        (87, 'V1.5', '14.02.2025', '10.03.2025', '"Ультимативный удильщик" в Элписе', '1.5.9.png', 'Не пройден'),
        (88, 'V1.5', '29.01.2025', '11.03.2025', 'С новым счастьем', '1.5.10.png', 'Не пройден'),
        (89, 'V1.5', '02.02.2025', '17.02.2025', 'Фотоохота Чик-Щёлка', '1.5.11.png', 'Не пройден'),
        (90, 'V1.5', '17.02.2025', '03.03.2025', 'Нулевая каверна: Экстренная ликвидация', '1.5.12.png', 'Не пройден'),
        (91, 'V1.5', '05.03.2025', '10.03.2025', 'Зал боевой симуляции: данные в награду', '1.2.3.png', 'Не пройден'),
        (92, 'V1.5', '21.02.2025', '03.03.2025', 'Фильм дня', '1.5.14.png', 'Не пройден'),
        (93, 'V1.5', '26.02.2025', '10.03.2025', '"141" за экологию', '1.5.15.png', 'Не пройден'),
        (94, 'V1.5', '22.01.2025', '12.02.2025', 'Мириады мелодий', '1.5.16.png', 'Не пройден'),
        (95, 'V1.5', '12.02.2025', '11.03.2025', 'Тенёта тьмы и нити света', '1.5.18.png', 'Не пройден'),
        (96, 'V1.5', '22.01.2025', '12.02.2025', 'На волне спокойствия', '1.5.19.png', 'Не пройден'),
        (97, 'V1.5', '12.02.2025', '11.03.2025', 'Чиста, как нефрит и лёд', '1.5.20.png', 'Не пройден'),
        (98, 'V1.5', '22.01.2025', '12.02.2025', 'Соната диссонанса', '1.5.21.png', 'Не пройден'),
        (99, 'V1.5', '12.02.2025', '11.03.2025', 'Соната диссонанса', '1.5.22.png', 'Не пройден'),
        (100, 'V1.5', '22.01.2025', '12.02.2025', 'Гимн гармонии', '1.5.23.png', 'Не пройден'),
        (101, 'V1.5', '12.02.2025', '11.03.2025', 'Гимн гармонии', '1.5.24.png', 'Не пройден'),
        (102, 'V1.5', '22.01.2025', '10.03.2025', 'Фонд Риду', '0.0.0.png', 'Не пройден'),
        (103, 'V1.6', '12.03.2025', '22.04.2025', 'Новая поставка', '1.6.1.png', 'Не пройден'),
        (104, 'V1.6', '12.03.2025', '21.04.2025', 'Марш серебрянных солдат', '1.6.2.png', 'Не пройден'),
        (105, 'V1.6', '12.03.2025', '21.04.2025', 'В бой, герой-коротышка!', '1.6.3.png', 'Не пройден'),
        (106, 'V1.6', '16.03.2025', '31.03.2025', 'У курьера лапки', '1.6.4.png', 'Не пройден'),
        (107, 'V1.6', '02.04.2025', '22.04.2025', 'Эн-ноты прямо в руки', '1.6.5.png', 'Не пройден'),
        (108, 'V1.6', '21.03.2025', '07.04.2025', 'Нулевая каверна: Разгром теней', '1.6.6.png', 'Не пройден'),
        (109, 'V1.6', '09.04.2025', '21.04.2025', 'Большой поход маленького рыцаря', '1.6.7.png', 'Не пройден'),
        (110, 'V1.6', '26.03.2025', '31.03.2025', 'Регулярная зачистка: продвинутые награды', '1.2.5.png', 'Не пройден'),
        (111, 'V1.6', '02.04.2025', '21.04.2025', 'Калибровка нуля', '1.6.9.png', 'Не пройден'),
        (112, 'V1.6', '02.04.2025', '14.04.2025', 'Виртуальная буря', '1.6.10.png', 'Не пройден'),
        (113, 'V1.6', '16.04.2025', '21.04.2025', 'Зал боевой симуляции: данные в награду', '1.2.3.png', 'Не пройден'),
        (114, 'V1.6', '12.03.2025', '02.04.2025', 'Проекция разряда', '1.6.12.png', 'Не пройден'),
        (115, 'V1.6', '02.04.2025', '22.04.2025', 'По ту сторону реки', '1.6.13.png', 'Не пройден'),
        (116, 'V1.6', '12.03.2025', '02.04.2025', 'Дай газу, дай жару', '1.6.14.png', 'Не пройден'),
        (117, 'V1.6', '02.04.2025', '22.04.2025', 'Пробивная пуля', '1.6.15.png', 'Не пройден'),
        (118, 'V1.6', '12.03.2025', '02.04.2025', 'Соната диссонанса', '1.6.16.png', 'Не пройден'),
        (119, 'V1.6', '02.04.2025', '22.04.2025', 'Гимн гармонии', '1.6.17.png', 'Не пройден'),
        (120, 'V1.6', '12.03.2025', '02.04.2025', 'Рапсодия резонанса', '1.6.18.png', 'Не пройден'),
        (121, 'V1.6', '02.04.2025', '22.04.2025', 'Феерия ритма', '1.6.19.png', 'Не пройден'),
        (122, 'V1.6', '12.03.2025', '21.04.2025', 'Фонд Риду', '0.0.0.png', 'Не пройден'),
        (123, 'V1.7', '23.04.2025', '05.06.2025', 'Новая поставка', '1.7.1.png', 'Не пройден'),
        (124, 'V1.7', '23.04.2025', '05.06.2025', 'О сокровенном на языке цветов', '1.7.2.png', 'Не пройден'),
        (125, 'V1.7', '27.04.2025', '12.05.2025', 'Бам-бух-банбу', '1.7.3.png', 'Не пройден'),
        (126, 'V1.7', '14.05.2025', '05.06.2025', 'Весенние светотени', '1.7.4.png', 'Не пройден'),
        (127, 'V1.7', '02.05.2025', '19.05.2025', 'Время вкусностей: доставка по городу', '1.7.5.png', 'Не пройден'),
        (128, 'V1.7', '19.05.2025', '05.06.2025', 'Путешествие в Зазеркалье', '1.7.6.png', 'Не пройден'),
        (129, 'V1.7', '07.05.2025', '12.05.2025', 'Регулярная зачистка: продвинутые награды', '1.2.5.png', 'Не пройден'),
        (130, 'V1.7', '14.05.2025', '05.06.2025', 'Эн-ноты прямо в руки', '1.7.9.png', 'Не пройден'),
        (131, 'V1.7', '23.05.2025', '05.06.2025', 'Сюрприз с доставкой на дом', '1.7.10.png', 'Не пройден'),
        (132, 'V1.7', '31.05.2025', '05.06.2025', 'Зал боевой симуляции: данные в награду', '1.2.3.png', 'Не пройден'),
        (133, 'V1.7', '23.04.2025', '14.05.2025', 'На крыльях нежной ночи', '1.7.12.png', 'Не пройден'),
        (134, 'V1.7', '14.05.2025', '05.06.2025', 'Пусть прошлое мертво', '1.7.13.png', 'Не пройден'),
        (135, 'V1.7', '23.04.2025', '14.05.2025', 'По запросу никого не найдено', '1.1.11.png', 'Не пройден'),
        (136, 'V1.7', '14.05.2025', '05.06.2025', 'Пламенный чемпион', '1.3.13.png', 'Не пройден'),
        (137, 'V1.7', '23.04.2025', '14.05.2025', 'Соната диссонанса', '1.7.16.png', 'Не пройден'),
        (138, 'V1.7', '14.05.2025', '05.06.2025', 'Гимн гармонии', '1.7.17.png', 'Не пройден'),
        (139, 'V1.7', '23.04.2025', '14.05.2025', 'Рапсодия резонанса', '1.1.13.png', 'Не пройден'),
        (140, 'V1.7', '14.05.2025', '05.06.2025', 'Феерия ритма', '1.3.15.png', 'Не пройден'),
        (141, 'V1.7', '23.04.2025', '02.06.2025', 'Фонд Риду', '0.0.0.png', 'Не пройден')
    ]

    added = 0
    updated = 0
    
    for eid, evers, estart, eend, ename, epict, estatus in events:
        event = db.session.get(Events_stats, eid)
        if event:
            event.events_version = evers
            event.events_start_date = parse_date(estart)
            event.events_end_date = parse_date(eend)
            event.events_name = ename
            event.events_picture = epict
            updated += 1
        else:
            db.session.add(Events_stats(
                events_id = eid,
                events_version = evers,
                events_start_date = parse_date(estart),
                events_end_date = parse_date(eend),
                events_name = ename,
                events_picture = epict,
                events_status = estatus
            ))
            added += 1
    db.session.commit()
    print(f"[ 011 ][ {'События':<30} ][ {(added):>03d} записей добавлено ][ {(updated):>03d} записей просмотрено ]")
